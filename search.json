[{"title":"electronåˆä½“éªŒ","url":"/2025/07/17/electron%E5%88%9D%E4%BD%93%E9%AA%8C/","content":"èƒŒæ™¯è¿‘æœŸå› ä¸ºä¸€äº›åŸå› ï¼Œéœ€è¦é¢‘ç¹åˆ‡æ¢ç½‘ç»œç¯å¢ƒï¼Œæ¯æ¬¡åˆ‡æ¢ç¯å¢ƒéƒ½éœ€è¦æ‹”æ’ç½‘çº¿æˆ–è€…æ˜¯ä»æ§åˆ¶é¢æ¿ä¸­ç¦ç”¨ç½‘å¡ã€‚ä¸å–œæ¬¢è¿™ç§é‡å¤çš„æ— æ„ä¹‰æ“ä½œï¼Œä¾¿å¯»æ€å¯ä»¥å†™ä¸ªè„šæœ¬è°ƒç”¨æ–¹æ³•æ¥åˆ‡æ¢ç½‘å¡çŠ¶æ€ï¼Œäºæ˜¯å…ˆæ•´äº†ä¸ªè„šæœ¬ï¼Œä½†æ˜¯æ¯æ¬¡è¿˜éœ€è¦åŒå‡»è¿è¡Œï¼Œè€Œä¸”æ— æ³•ç›´è§‚åœ°çœ‹åˆ°ä¸¤ä¸ªç½‘å¡å½“å‰çš„çŠ¶æ€ï¼Œåˆæƒ³åˆ°æˆ–è®¸å¯ä»¥ç”¨electronæ„å»ºä¸ªappï¼Œç”¨jsè°ƒç”¨apiæ¥åˆ‡æ¢ç½‘å¡çŠ¶æ€ï¼Œé‚è·Ÿgptè€å¸ˆè¿›è¡Œäº†ä¸€ç•ªæ¢è®¨ï¼ŒæˆåŠŸå†™äº†ä¸ªå°è½¯ä»¶å®ç°å®æ—¶ç›‘æ§ç½‘å¡çŠ¶æ€+ä¸€é”®åˆ‡æ¢ç½‘ç»œç¯å¢ƒçš„åŠŸèƒ½ã€‚\nè½¯ä»¶æ ·å¼è®¾è®¡è¾“å…¥éœ€æ±‚è®©gptè€å¸ˆå¸®å¿™ç”»äº†ä¸ªè®¾è®¡å›¾ï¼Œæœ€ç»ˆå®ç°æ•ˆæœå¦‚ä¸‹ï¼š\n\n\nä»£ç å®ç°æœ‰äº†è®¾è®¡å›¾å°±å¯ä»¥å¼€å·¥äº†ï¼Œç”±äºå¯¹electronå¹¶ä¸äº†è§£ï¼Œè®©gptå…ˆå¸®å¿™æ­äº†ä¸ªæ¡†æ¶ã€‚\né¡¹ç›®ç»“æ„network-switch-app/â”œâ”€â”€ main.js              // ä¸»è¿›ç¨‹ï¼šçª—å£åˆ›å»ºã€çŠ¶æ€æ£€æµ‹ã€æŒ‡ä»¤æ‰§è¡Œâ”œâ”€â”€ preload.js           // é¢„åŠ è½½è„šæœ¬ï¼ˆå¯ç”¨äºæš´éœ²å®‰å…¨ APIï¼‰â”œâ”€â”€ renderer/            // æ¸²æŸ“è¿›ç¨‹â”‚   â”œâ”€â”€ index.htmlâ”‚   â”œâ”€â”€ renderer.jsâ”œâ”€â”€ assets/â”‚   â””â”€â”€ icon.ico         // åº”ç”¨å›¾æ ‡â”œâ”€â”€ config.json          // ç½‘å¡åé…ç½®æ–‡ä»¶ï¼ˆintranet/internetï¼‰â”œâ”€â”€ package.json\n\nmain.js ä¸­å¼€å¯ç¨‹åºçª—å£ä»¥åŠè°ƒç”¨ç³»ç»ŸAPIï¼Œpreload.js ä¸­æŒ‚è½½å…¨å±€æ–¹æ³•ï¼Œåœ¨rendererä¸­å®ç°é¡µé¢å†…å®¹ä»¥åŠjsé€»è¾‘å¤„ç†\nä¸»è¿›ç¨‹ main.js æ ¸å¿ƒåŠŸèƒ½1. åˆ›å»ºçª—å£const win = new BrowserWindow(&#123;  width: 280,  height: 160,  useContentSize: true,  frame: false,  alwaysOnTop: true,  resizable: false,  transparent: true,  webPreferences: &#123;    preload: path.join(__dirname, &#x27;preload.js&#x27;),    contextIsolation: true,    nodeIntegration: false,  &#125;,  icon: path.join(__dirname, &#x27;assets&#x27;, &#x27;icon.ico&#x27;),&#125;)\n\n2.è¯»å–å¯ç¼–è¾‘çš„é…ç½®æ–‡ä»¶const configPath = path.join(path.dirname(app.getPath(&#x27;exe&#x27;)), &#x27;config.json&#x27;)const config = JSON.parse(fs.readFileSync(configPath, &#x27;utf-8&#x27;))\n\n3. æ‰§è¡Œç½‘ç»œåˆ‡æ¢ï¼ˆWindowsï¼‰exec(`netsh interface set interface name=&quot;$&#123;name&#125;&quot; admin=ENABLED`)\n\n4. è·å–ç½‘å¡çŠ¶æ€const getAdapterStatus = (name) =&gt;  new Promise((resolve) =&gt; &#123;    exec(      `powershell -Command &quot;(Get-NetAdapter -Name \\\\&quot;$&#123;name&#125;\\\\&quot; -ErrorAction SilentlyContinue).Status&quot;`,      (err, stdout) =&gt; &#123;        const status = stdout.trim()        resolve(status === &#x27;Up&#x27; ? &#x27;Up&#x27; : &#x27;Down&#x27;)      &#125;    )  &#125;)\n\nAPIä¸²è”1. main.jsï¼šä¸»è¿›ç¨‹æ³¨å†ŒåŠŸèƒ½// ç½‘å¡çŠ¶æ€æ£€æŸ¥ipcMain.handle(&#x27;get-status&#x27;, async () =&gt; &#123;&#125;)// åˆ‡æ¢æ¨¡å¼ipcMain.handle(&#x27;toggle-mode&#x27;, async () =&gt; &#123;&#125;)\n\n2. preload.jsï¼šæš´éœ² API çš„æ¡¥æ¢const &#123; contextBridge, ipcRenderer &#125; = require(&#x27;electron&#x27;)contextBridge.exposeInMainWorld(&#x27;networkAPI&#x27;, &#123;  getStatus: async () =&gt; await ipcRenderer.invoke(&#x27;get-status&#x27;),  toggleMode: async () =&gt; await ipcRenderer.invoke(&#x27;toggle-mode&#x27;)&#125;)\n\n3. renderer.jsï¼šæ¸²æŸ“è¿›ç¨‹ä½¿ç”¨ APIasync function updateStatus() &#123;  const status = await window.networkAPI.getStatus()&#125;\n\næ‰“åŒ…æ„å»º&quot;build&quot;: &#123;  &quot;appId&quot;: &quot;com.fbz.networkswitch&quot;,  &quot;productName&quot;: &quot;å†…å¤–ç½‘åˆ‡æ¢å™¨&quot;,  &quot;files&quot;: [    &quot;main.js&quot;,    &quot;preload.js&quot;,    &quot;renderer/**/*&quot;,    &quot;config.json&quot;  ],  &quot;extraFiles&quot;: [    &#123;      &quot;from&quot;: &quot;config.json&quot;,      &quot;to&quot;: &quot;config.json&quot;    &#125;  ],  &quot;directories&quot;: &#123;    &quot;buildResources&quot;: &quot;assets&quot;,    &quot;output&quot;: &quot;dist&quot;  &#125;,  &quot;win&quot;: &#123;    &quot;target&quot;: &quot;nsis&quot;,    &quot;icon&quot;: &quot;assets/icon.ico&quot;,    &quot;sign&quot;: false  &#125;,  &quot;nsis&quot;: &#123;    &quot;oneClick&quot;: false,    &quot;perMachine&quot;: true  &#125;&#125;\n\næ³¨æ„äº‹é¡¹ï¼š\n\nwinå›¾æ ‡éœ€è¦ä½¿ç”¨å¤šåˆ†è¾¨ç‡å›¾æ ‡ï¼Œ16x16, 32x32, 48x48, 256x256 éƒ½åŒ…å«åœ¨ .ico æ–‡ä»¶ä¸­ã€‚ï¼ˆåœ¨çº¿è½¬æ¢å·¥å…·: https://www.aconvert.com/cn/icon/png-to-ico/ï¼‰\n\nç»“è¯­ä¹‹å‰ä¹Ÿæœ‰æƒ³ç ”ç©¶electronï¼Œä½†æ˜¯ä¸€ç›´æ²¡ä»€ä¹ˆå¥‘æœºï¼Œè¿™æ¬¡åˆšå¥½é‡åˆ°è¿™ç§éœ€æ±‚ï¼Œä¾¿å€Ÿç€chatgptå†™äº†ä¸ªå°å·¥å…·ï¼Œä¹Ÿç®—æ˜¯å¯¹å…¶æœ‰äº†åˆæ­¥çš„è®¤çŸ¥ï¼Œä½¿ç”¨electronå‰ç«¯å¼€å‘ä¹Ÿèƒ½å¿«é€Ÿä¸Šæ‰‹å¼€å‘ç¨‹åºäº†ã€‚å¾…ä¸‹ä¸€æ¬¡æœ‰æ–°æƒ³æ³•çš„æ—¶å€™ï¼Œå†æ·±å…¥ç ”ç©¶ç ”ç©¶\n","categories":["æŠ€æœ¯ç¬”è®°"],"tags":["electron"]},{"title":"Hello World","url":"/2021/06/23/hello-world/","content":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.\nQuick StartCreate a new posthexo new &quot;My New Post&quot;\n\nMore info: Writing\nRun serverhexo server\n\nMore info: Server\nGenerate static fileshexo generate\n\nMore info: Generating\nDeploy to remote siteshexo deploy\n\nMore info: Deployment\n"},{"title":"hexoçš„ä½¿ç”¨","url":"/2025/07/07/hexo%E7%9A%84%E4%BD%BF%E7%94%A8/","content":"èƒŒæ™¯å‰å‡ å¹´æ­å»ºäº†åšå®¢ï¼Œä½†æ˜¯ä¸€ç›´éƒ½æ²¡æœ‰æŠ•å…¥ç¼–å†™å†…å®¹ï¼Œæœ€è¿‘åˆæ¡èµ·æ¥é‡æ–°æŠ˜è…¾äº†ä¸€ä¸‹ï¼Œé‡æ–°æ¢³ç†äº†ä¸€ä¸‹hexoçš„ä½¿ç”¨ï¼ŒåŠ æ·±äº†ç†è§£ï¼Œåœ¨æ­¤è®°å½•ä¸€ä¸‹åšä¸ªå¤‡å¿˜ã€‚\nä¸€ã€å®‰è£…ä¸ä½¿ç”¨1. å®‰è£… Hexo CLInpm install -g hexo-cli\n\n2. åˆå§‹åŒ–åšå®¢é¡¹ç›®hexo init blogcd blognpm install\n\n3. å®‰è£…å¹¶å¯ç”¨ä¸»é¢˜ä¸ªäººå–œæ¬¢Nextä¸»é¢˜çš„æ ·å¼ï¼Œå› æ­¤è¿™é‡Œé€‰ç”¨Nextä¸»é¢˜\n# ä½¿ç”¨npmå®‰è£…ä¸»é¢˜npm install hexo-theme-next# æ‹·è´é…ç½®æ–‡ä»¶åˆ°æ ¹ç›®å½•cp node_modules/hexo-theme-next/_config.yml _config.next.yml\n\nä¿®æ”¹_config.ymlä¸­çš„themeï¼Œä»¥å¯ç”¨nextä¸»é¢˜\nHexo config filetheme: next\n\nå¯ä»¥åœ¨_config.next.ymlä¸­ä¿®æ”¹schemeä»¥åˆ‡æ¢ç³»ç»Ÿæ ·å¼ï¼Œä¸ªäººå–œæ¬¢geminiçš„è®¾è®¡\nNext config filescheme: Gemini\n\n4. åˆ›å»ºæ–‡ç« hexo new &quot;æ–‡ç« æ ‡é¢˜&quot;\n\nç”Ÿæˆæ–‡ä»¶ä½äºï¼šsource/_posts/æ–‡ç« æ ‡é¢˜.md\n5. æœ¬åœ°é¢„è§ˆhexo server\n\nè®¿é—®ï¼šhttp://localhost:4000 è¿›è¡Œæœ¬åœ°é¢„è§ˆ\näºŒã€æ¨èæ’ä»¶1. hexo-generator-sitemapéƒ¨ç½²&#x2F;è¿è¡Œæ—¶ä¼šç”Ÿæˆsitemap\næ‰§è¡Œnpm i hexo-generator-sitemapå®‰è£…\nå¹¶åœ¨é…ç½®æ–‡ä»¶_config.ymlä¸­æ·»åŠ ä»¥ä¸‹é…ç½®ï¼Œé‡æ–°ç¼–è¯‘è¿è¡Œå¹¶è®¿é—®http://localhost:4000/sitemap.xmlå³å¯çœ‹åˆ°ç½‘ç«™åœ°å›¾çš„è¾“å‡ºäº†\nHexo config filesitemap:  path: sitemap.xml\n\n2. hexo-generator-searchdbå¼€å¯æœ¬åœ°æœç´¢åŠŸèƒ½\næ‰§è¡Œnpm i hexo-generator-searchdbå®‰è£…\nå¹¶åœ¨é…ç½®æ–‡ä»¶_config.ymlä¸­æ·»åŠ ä»¥ä¸‹é…ç½®ï¼Œé‡æ–°ç¼–è¯‘è¿è¡Œåç‚¹å‡»èœå•æ çš„â€œæœç´¢â€æŒ‰é’®ï¼Œå³å¯æœç´¢ç«™å†…åšå®¢\nHexo config filesearch:  enable: true\n\nä¸‰ã€éƒ¨ç½²ä¸SEOä¼˜åŒ–éƒ¨ç½²æ–¹æ¡ˆä¸€å¼€å§‹é‡‡ç”¨GitHubæ‰˜ç®¡ï¼Œæœ‰æäº¤è‡ªåŠ¨è§¦å‘æ„å»ºå¹¶éƒ¨ç½²ï¼Œç„¶ååŸŸåè§£æåˆ°GitHubéƒ¨ç½²é¡µé¢çš„æ–¹æ¡ˆã€‚ä½†æ˜¯ç”±äºgfwï¼Œå¢™å†…è®¿é—®æ¯”è¾ƒå›°éš¾ï¼ˆå…¬å¸ç ´ç½‘æŒ‚ä¸æŒ‚æ¢¯å­éƒ½å¾ˆéš¾æ‰“å¼€è‡ªå·±çš„åšå®¢ï¼‰ï¼Œä¸”æ·»åŠ è¯„è®ºæ—¶ï¼Œä¼šé‡åˆ°è·¨åŸŸé—®é¢˜ä¸å¥½è§£å†³ã€‚é‚æ”¹ä¸ºåœ¨æœåŠ¡å™¨ä¸Šæ‰“åŒ…æ„å»ºï¼Œç”¨nginxéƒ¨ç½²ã€‚\nåœ¨æœåŠ¡å™¨ä¸Šæ‹‰å–ä»“åº“å¹¶æ‰§è¡Œnpm iå®‰è£…ä¾èµ–ï¼Œåœ¨ä»“åº“æ ¹ç›®å½•åˆ›å»ºéƒ¨ç½²è„šæœ¬deploy.sh\ndeploy.sh#!/bin/bashecho &quot;ğŸ”„ æ‹‰å–æœ€æ–°ä»£ç ...&quot;cd /home/webapps/bloggit pull origin mainecho &quot;ğŸ“¦ å®‰è£…ä¾èµ–...&quot;npm installecho &quot;ğŸ§¹ æ¸…ç†æ—§ç”Ÿæˆæ–‡ä»¶...&quot;npx hexo cleanecho &quot;ğŸ“ ç”Ÿæˆé™æ€æ–‡ä»¶...&quot;npx hexo generate\n\nè¾“å…¥bash /path/to/deploy.shå³å¯æ‰§è¡Œéƒ¨ç½²è„šæœ¬è‡ªåŠ¨æ‰“åŒ…æ„å»ºã€‚\nè¯ä¹¦ç”³è¯·é…ç½®nginxä¹‹å‰ï¼Œè¿˜éœ€è¦æ³¨å†Œä¸€ä¸‹è¯ä¹¦ä»¥å¼€å¯httpsåè®®ã€‚\né¦–å…ˆç¡®ä¿/etc/ssl/certsã€/etc/ssl/privateç›®å½•å­˜åœ¨ï¼Œè‹¥ä¸å­˜åœ¨ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤åˆ›å»ºç›®å½•å¹¶èµ‹äºˆæƒé™\nmkdir -p /etc/ssl/privatechmod 700 /etc/ssl/privatemkdir -p /etc/ssl/certschmod 700 /etc/ssl/certs\n\næ‰§è¡Œä»¥ä¸‹å‘½ä»¤ç­¾å‘è¯ä¹¦ï¼ŒæŒ‡å®šletsencryptæœåŠ¡å¯ä»¥ä¸ç”¨æ³¨å†Œé‚®ç®±ï¼Œä¸”æ”¯æŒè‡ªåŠ¨ç»­æœŸ\n# å…ˆåœæ­¢nginxæœåŠ¡bt stop nginx# ç­¾å‘è¯ä¹¦acme.sh --issue --standalone -d your.domain.com --ecc --server letsencrypt# å®‰è£…è¯ä¹¦ï¼Œæœ€åçš„reloadcmdä¿®æ”¹ä¸ºæœ¬æœºé‡è½½ngé…ç½®çš„æŒ‡ä»¤ï¼Œæˆ‘ç”¨å®å¡”é¢æ¿å®‰è£…çš„ï¼Œå› æ­¤æ‰§è¡Œbt reload nginxacme.sh --install-cert -d your.domain.com --ecc \\  --key-file       /etc/ssl/private/your.domain.com.key \\  --fullchain-file /etc/ssl/certs/your.domain.com_bundle.crt \\  --reloadcmd     &quot;bt reload nginx&quot;# é‡è½½nginxbt reload nginx\n\nnginxé…ç½®æ¥ä¸‹æ¥åœ¨nginxé…ç½®ä¸­æ·»åŠ ä»¥ä¸‹é…ç½®ï¼Œå†é‡è½½å³å¯è®¿é—®éƒ¨ç½²åçš„åšå®¢é¡µé¢äº†\nnginx.confserver &#123;  listen 80;  server_name your.domain.com;  # å¼ºåˆ¶è·³è½¬åˆ° HTTPS  return 301 https://$host$request_uri;&#125;server &#123;  listen 443 ssl;  server_name your.domain.com;  # SSL è¯ä¹¦è·¯å¾„ï¼ˆä½ éœ€è¦æ›¿æ¢æˆè‡ªå·±çš„ï¼‰  ssl_certificate /etc/ssl/certs/your.domain.com_bundle.crt;  ssl_certificate_key /etc/ssl/private/your.domain.com.key;  ssl_session_timeout 5m;  ssl_protocols TLSv1.2 TLSv1.3;  ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5;  ssl_prefer_server_ciphers on;  root /path/to/åšå®¢ä»“åº“/public;  index index.html;  access_log /www/wwwlogs/access_blog.log;  location / &#123;    try_files $uri $uri/ /index.html;  &#125;&#125;\n\nSEOä¼˜åŒ–SEOä¼˜åŒ–æ¯”è¾ƒå¤æ‚ï¼Œåªæ˜¯è®°å½•ä¸‹è‡ªå·±åšè¿‡çš„æ“ä½œï¼Œè¿˜åœ¨ç ”ç©¶å­¦ä¹ ä¸­ã€‚\nä»¥è°·æ­Œæœç´¢ä¸ºä¾‹ï¼Œè®¿é—®åœ°å€ï¼šhttps://search.google.com/search-consoleï¼Œè¾“å…¥è¦ç´¢å¼•çš„åŸŸåï¼Œè°·æ­Œä¼šè¿”å›ä¸€ä¸ªæ ¡éªŒç æ–‡ä»¶ã€‚åˆ›å»ºä¸€ä¸ªé™æ€æ–‡ä»¶ç›®å½•source/staticå­˜æ”¾è¿™ä¸ªæ–‡ä»¶ã€‚\nå¹¶åœ¨hexoé…ç½®æ–‡ä»¶ä¸­æ·»åŠ è·³è¿‡æ¸²æŸ“å†…å®¹ï¼Œé¿å…éƒ¨ç½²åè®¿é—®æ ¡éªŒæ–‡ä»¶æ—¶å‡ºç°å†…å®¹åµŒå¥—åœ¨åšå®¢æ¡†æ¶ä¸­ï¼Œå¯¼è‡´æ ¡éªŒä¸é€šè¿‡çš„é—®é¢˜ã€‚é‡æ–°æ‰“åŒ…å¹¶è®¿é—®https://your.domain.com/googledxxxxxxxxxxåº”è¯¥èƒ½çœ‹åˆ°è¾“å‡ºgoogle-site-verification: googledxxxxxxxxxx.htmlã€‚\n_config.ymlskip_render:  - static/**/*\n\nç«™ç‚¹éªŒè¯æˆåŠŸåè¿˜éœ€è¦æ·»åŠ ä¸€ä¸‹sitemapï¼Œè¿™æ ·è°·æ­Œå¯ä»¥çŸ¥é“éœ€è¦æŠ“å–çš„å­é¡µé¢æœ‰å“ªäº›ã€‚è‹¥å®‰è£…äº†ä¸Šæ–‡çš„sitemapæ’ä»¶ï¼Œå¯åœ¨ngæ·»åŠ å¦‚ä¸‹é…ç½®ï¼Œè®¿é—®https://your.domain.com/sitemapæ—¶å³å¯ç›´æ¥é‡å®šå‘åˆ°https://your.domain.com/sitemap.xml\n...location / &#123;  try_files $uri $uri/ /index.html;&#125;location = /sitemap &#123;  return 301 /sitemap.xml;&#125;\n\nç„¶ååœ¨è°·æ­Œæ§åˆ¶å°ä¸­æ‰¾åˆ°å¹¶æ‰“å¼€â€œç«™ç‚¹åœ°å›¾â€èœå•æ ï¼Œåœ¨â€œæ·»åŠ æ–°çš„ç«™ç‚¹åœ°å›¾â€ä¸­è¾“å…¥sitemapï¼Œç‚¹å‡»æäº¤å³å¯ã€‚\nå››ã€å¼€å¯ç«™å†…è¯„è®ºè¿™é‡Œé€‰ç”¨twikooä½œä¸ºç«™å†…è¯„è®ºç»„ä»¶ (éœ€è¦nextä¸»é¢˜8.xç‰ˆæœ¬æ”¯æŒ)\nå…ˆåœ¨æœåŠ¡å™¨ä¸Šå¯åŠ¨æœåŠ¡ï¼Œè®¿é—®ip:portè‹¥çœ‹åˆ°è¾“å‡ºTwikoo äº‘å‡½æ•°è¿è¡Œæ­£å¸¸ï¼Œè¯·å‚è€ƒ https://twikoo.js.org/frontend.html å®Œæˆå‰ç«¯çš„é…ç½® åˆ™ä¸ºå¯åŠ¨æˆåŠŸäº†\ndocker run -d \\  --name twikoo \\  -e TZ=Asia/Shanghai \\  -e TWIKOO_THROTTLE=10 \\  -v /home/twikoo/data:/app/data \\  -p 8080:8080 \\  --restart=always \\  imaegoo/twikoo\n\nä¸ºäº†é¿å…è·¨åŸŸï¼Œè¿™é‡Œç”¨nginxæŠŠtwitooä»£ç†è½¬å‘åˆ°è·Ÿåšå®¢åŒåŸŸåä¸‹ï¼Œåœ¨nginxåšå®¢é…ç½®éƒ¨åˆ†æ·»åŠ å¦‚ä¸‹å†…å®¹\n...location / &#123;  try_files $uri $uri/ /index.html;&#125;# ğŸ‘‡ æ·»åŠ  Twikoo çš„åå‘ä»£ç†é…ç½®location /twikoo/ &#123;  proxy_pass http://127.0.0.1:8080/; # ä¿®æ”¹ä¸ºtwikooæœåŠ¡çš„ç«¯å£  proxy_set_header Host $host;  proxy_set_header X-Real-IP $remote_addr;  proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;&#125;\n\nç„¶ååœ¨åšå®¢æ ¹ç›®å½•æ‰§è¡Œnpm i hexo-next-twikooå®‰è£…twikooç»„ä»¶ï¼Œåœ¨nexté…ç½®æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®ï¼Œé‡æ–°æ‰“åŒ…éƒ¨ç½²åè®¿é—®åšå®¢é¡µé¢åº”è¯¥å°±èƒ½çœ‹åˆ°ç«™å†…è¯„è®ºç»„ä»¶äº†\n_config.next.yml# Multiple Comment System Supportcomments:  # Available values: tabs | buttons  style: tabs  # Choose a comment system to be displayed by default.  # Available values: disqus | disqusjs | changyan | livere | gitalk | utterances  active: disqus  # Setting `true` means remembering the comment system selected by the visitor.  storage: true  # Lazyload all comment systems.  lazyload: false  # Modify texts or order for any naves, here are some examples.  nav:    twikoo:      order: -1      text: Twikoo è¯„è®º    disqus:     text: Load Disqus     order: -1    #gitalk:    #  order: -2twikoo:  enable: true  envId: https://your.domain.com/twikoo  # æˆ– http://ip:portï¼Œæ”¹æˆä½ è‡ªå·±çš„åœ°å€  region: &#x27;&#x27;  path: window.location.pathname  visitor: true  commentCount: true\n\näº”ã€ä¸€äº›é—®é¢˜1. å›¾ç‰‡å¼•å…¥é—®é¢˜é…ç½®æ–‡ä»¶ä¸­è®¾ç½®post_asset_folder: trueï¼Œè¿™æ ·åœ¨åˆ›å»ºåšå®¢æ—¶ä¼šç”Ÿæˆåšå®¢åŒåçš„æ–‡ä»¶å¤¹ï¼Œä¾¿äºç®¡ç†å›¾ç‰‡ï¼Œä¸€å¼€å§‹å°è¯•markdownåŸç”Ÿçš„å›¾ç‰‡å¼•å…¥å†™æ³•![å›¾ç‰‡alt](å›¾ç‰‡é“¾æ¥ &quot;å›¾ç‰‡title&quot;)æœ€ç»ˆæ¸²æŸ“å‡ºæ¥çš„å›¾ç‰‡è·¯å¾„å§‹ç»ˆä¸å¯¹ï¼Œä¸€ç•ªç ”ç©¶å‘ç°ç”¨&#123;% asset_img å›¾ç‰‡æ–‡ä»¶å æè¿°æ–‡å­— %&#125;è¿™ä¸ªæ ‡ç­¾æ‰èƒ½æˆåŠŸæ¸²æŸ“å‡ºå®é™…è·¯å¾„\n","categories":["æŠ€æœ¯ç¬”è®°"],"tags":["HEXO"]},{"title":"PDFæ‰¹é‡è½¬å›¾ç‰‡","url":"/2025/06/24/pdf%E6%89%B9%E9%87%8F%E8%BD%AC%E5%9B%BE%E7%89%87/","content":"èƒŒæ™¯æœ€è¿‘åœ¨åšä¸€ä¸ªé¡¹ç›®ï¼Œéœ€è¦åœ¨å¼¹çª—é‡Œå±•ç¤ºæ”¿ç­–PDFå†…å®¹ã€‚æœ¬æ¥æƒ³ç€ç›´æ¥æŠŠPDFæ–‡ä»¶æ”¾åœ¨å‰ç«¯é¡¹ç›®é‡Œï¼Œä½†ä¸€ä¸ªæ–‡ä»¶å¤§å‡ åMï¼ŒåŠ è½½èµ·æ¥å¾ˆæ…¢ã€‚è€Œä¸”å®¢æˆ·ä¸æƒ³çœ‹åˆ°PDFåœ¨ç½‘é¡µä¸­çš„é¢„è§ˆæ¡†ã€‚è€ƒè™‘åˆ°åªæ˜¯å±•ç¤ºå†…å®¹ï¼Œä¸éœ€è¦äº¤äº’åŠŸèƒ½ï¼Œå°±æƒ³ç€æŠŠPDFè½¬æˆå›¾ç‰‡ï¼Œè¿™æ ·æ—¢èƒ½ç¼©å°æ–‡ä»¶ä½“ç§¯ï¼Œåˆèƒ½æå‡åŠ è½½é€Ÿåº¦ã€‚\nè§£å†³æ–¹æ¡ˆç»è¿‡ä¸€ç•ªæœç´¢ï¼Œå‘ç° ImageMagick æ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ã€‚å®ƒä¸ä»…èƒ½å¤„ç†PDFè½¬å›¾ç‰‡ï¼Œè¿˜æ”¯æŒæ‰¹é‡å¤„ç†ï¼Œæ­£å¥½ç¬¦åˆæˆ‘çš„éœ€æ±‚ã€‚\nå·¥å…·å‡†å¤‡\nå®‰è£… ImageMagick\n\nWindows: ä¸‹è½½å®‰è£…åŒ…æˆ–ä½¿ç”¨ choco install imagemagick\nå®‰è£…åè®°å¾—é‡å¯å‘½ä»¤è¡Œ\n\n\néªŒè¯å®‰è£…\nmagick --version\n\nå®‰è£…ImageMagickåº•å±‚ä¾èµ– Ghostscript\n\nä¸‹è½½é€‚åˆç³»ç»Ÿç‰ˆæœ¬çš„å®‰è£…åŒ…ï¼ˆé€šå¸¸æ˜¯ gswin64.exeï¼‰\n\n\néªŒè¯å®‰è£…\ngswin64c -version\n\næ‰¹é‡è½¬æ¢è„šæœ¬ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨ï¼Œæˆ‘å†™äº†ä¸ªæ‰¹å¤„ç†è„šæœ¬ï¼Œæ”¯æŒæ‰¹é‡è½¬æ¢PDFæ–‡ä»¶ï¼š\n@echo offsetlocal enabledelayedexpansion:: è®¾ç½®ç›®æ ‡ DPIï¼Œè°ƒæ•´è¿™é‡Œå³å¯æ”¹å˜åˆ†è¾¨ç‡set dpi=150:: è®¾ç½®è¾“å‡ºå›¾ç‰‡çš„è´¨é‡ï¼ˆèŒƒå›´ï¼š1-100ï¼‰set quality=80:: å®šä¹‰ A4 çš„å®é™…å°ºå¯¸ï¼ˆå•ä½ï¼šè‹±å¯¸ï¼‰set a4_width_inch=8.27set a4_height_inch=11.69:: ä½¿ç”¨ PowerShell åŠ¨æ€è®¡ç®— A4 åˆ†è¾¨ç‡ï¼ˆå®½åº¦å’Œé«˜åº¦ï¼‰for /f &quot;tokens=*&quot; %%A in (&#x27;powershell -Command &quot;[math]::Round(%a4_width_inch% * %dpi%)&quot;&#x27;) do set width=%%Afor /f &quot;tokens=*&quot; %%A in (&#x27;powershell -Command &quot;[math]::Round(%a4_height_inch% * %dpi%)&quot;&#x27;) do set height=%%A:: è¾“å‡ºå®½é«˜ä»¥åŠè´¨é‡å‚æ•°ä»¥ä¾›éªŒè¯echo DPI: %dpi%echo Width: %width% pixelsecho Height: %height% pixelsecho Quality: %quality%%:: éªŒè¯å®½é«˜æ˜¯å¦æ­£ç¡®if &quot;%width%&quot;==&quot;&quot; (    echo å®½åº¦è®¡ç®—å¤±è´¥ï¼Œè¯·æ£€æŸ¥ PowerShell æ˜¯å¦å¯ç”¨æˆ–è®¡ç®—é€»è¾‘æ˜¯å¦æ­£ç¡®ã€‚    pause    exit /b)if &quot;%height%&quot;==&quot;&quot; (    echo é«˜åº¦è®¡ç®—å¤±è´¥ï¼Œè¯·æ£€æŸ¥ PowerShell æ˜¯å¦å¯ç”¨æˆ–è®¡ç®—é€»è¾‘æ˜¯å¦æ­£ç¡®ã€‚    pause    exit /b):: éå†å½“å‰ç›®å½•ä¸­çš„æ‰€æœ‰ PDF æ–‡ä»¶for %%f in (*.pdf) do (    :: è·å–æ–‡ä»¶åï¼ˆä¸å¸¦æ‰©å±•åï¼‰    set filename=%%~nf    :: åˆ›å»ºä¸ PDF åŒåçš„è¾“å‡ºç›®å½•    mkdir &quot;!filename!&quot;    :: è½¬æ¢ PDF ä¸ºå›¾ç‰‡ï¼Œç¡®ä¿èƒŒæ™¯ä¸ºç™½è‰²ï¼Œå¤§å°ç»Ÿä¸€ï¼Œè®¾ç½®è´¨é‡    magick -density %dpi% &quot;%%f&quot; -background white -alpha remove -alpha off -resize %width%x%height% -gravity center -extent %width%x%height% -quality %quality% &quot;!filename!\\page-%%d.webp&quot;)echo è½¬æ¢å®Œæˆï¼pause\n\nä½¿ç”¨å¿ƒå¾—å‚æ•°è°ƒä¼˜ç»éªŒ\nDPIè®¾ç½®ï¼š\n\n150 DPIï¼šé€‚åˆå¤§å¤šæ•°åœºæ™¯ï¼Œæ–‡ä»¶å¤§å°å’Œè´¨é‡æ¯”è¾ƒå¹³è¡¡\n200 DPIï¼šé«˜æ¸…æ˜¾ç¤ºï¼Œæ–‡ä»¶ç¨å¤§\n100 DPIï¼šæ–‡ä»¶æœ€å°ï¼Œä½†å¯èƒ½ä¸å¤Ÿæ¸…æ™°\n\n\nè´¨é‡è®¾ç½®ï¼š\n\n80-90ï¼šæ¨èè®¾ç½®\n70ä»¥ä¸‹ï¼šæ–‡ä»¶å°ä½†è´¨é‡ä¸€èˆ¬\n95ä»¥ä¸Šï¼šè´¨é‡å¥½ä½†æ–‡ä»¶å¤§\n\n\n\næ•ˆæœå¯¹æ¯”è½¬æ¢åçš„æ–‡ä»¶ç»“æ„ï¼š\né¡¹ç›®/â”œâ”€â”€ convert_pdf_to_images.batâ”œâ”€â”€ æ”¿ç­–æ–‡ä»¶.pdfâ””â”€â”€ æ”¿ç­–æ–‡ä»¶/    â”œâ”€â”€ page-0.webp    â”œâ”€â”€ page-1.webp    â””â”€â”€ ...\n\næ–‡ä»¶å¤§å°å¯¹æ¯”ï¼š\n\nåŸPDFï¼š41.6MB\nè½¬æ¢åï¼šçº¦5.3Mï¼ˆWebPæ ¼å¼ï¼‰\nå‹ç¼©ç‡ï¼šçº¦87%\n\næ€»ç»“è¿™ä¸ªæ–¹æ¡ˆåœ¨ä¸€å®šç¨‹åº¦ä¸Šè§£å†³äº†æˆ‘çš„é—®é¢˜ï¼š\n\nâœ… 1Mä»¥ä¸Šçš„æ–‡ä»¶ä½“ç§¯åŸºæœ¬éƒ½å¤§å¹…å‹ç¼©äº†\nâœ… åŠ è½½é€Ÿåº¦æ˜æ˜¾æå‡\nâœ… ä¿æŒäº†è‰¯å¥½çš„æ˜¾ç¤ºæ•ˆæœ\nâœ… æ”¯æŒæ‰¹é‡å¤„ç†ï¼Œæ•ˆç‡é«˜\n\nå¯¹äºç±»ä¼¼çš„éœ€æ±‚ï¼Œæˆ‘è§‰å¾—è¿™ä¸ªæ–¹æ¡ˆè¿˜æ˜¯æŒºå®ç”¨çš„ã€‚å¦‚æœåªæ˜¯å±•ç¤ºå†…å®¹ï¼Œè½¬æˆå›¾ç‰‡ç¡®å®æ¯”ç›´æ¥ä½¿ç”¨PDFè¦å¥½å¾ˆå¤šã€‚\n\nè®°å½•ä¸€ä¸‹è¿™ä¸ªå®ç”¨çš„è§£å†³æ–¹æ¡ˆï¼Œä»¥åé‡åˆ°ç±»ä¼¼éœ€æ±‚å¯ä»¥ç›´æ¥ç”¨ã€‚\n","categories":["æŠ€æœ¯ç¬”è®°"],"tags":["PDFè½¬å›¾ç‰‡","å‰ç«¯ä¼˜åŒ–","å®ç”¨å·¥å…·"]},{"title":"ç½‘é¡µé€‚è€åŒ–","url":"/2025/06/25/%E9%80%82%E8%80%81%E5%8C%96/","content":"èƒŒæ™¯æœ€è¿‘åœ¨åšçš„é¡¹ç›®æœ‰è€å¹´äººæ¨¡å¼çš„éœ€æ±‚â€”â€”ä¹Ÿå°±æ˜¯åŠ¨æ€åˆ‡æ¢å­—ä½“å¤§å°ã€å…ƒç´ é—´è·ç­‰ã€‚\nè§£å†³æ–¹æ¡ˆé¡¹ç›®ä½¿ç”¨element-uiã€sassã€sass-loaderï¼Œåœ¨scssæ–‡ä»¶ä¸­å®šä¹‰å˜é‡ï¼Œå¹¶åˆ©ç”¨:exportå¯¼å‡ºå˜é‡ï¼Œä¾›JSä½¿ç”¨ã€‚JSä¸­è¯»å–å˜é‡ï¼Œä½¿ç”¨setPropertyæ–¹æ³•è®¾ç½®å…¨å±€csså˜é‡ã€‚é¡¹ç›®ä¸­æ‰€æœ‰éœ€è¦åŠ¨æ€æ”¹å˜å¤§å°çš„ï¼Œéƒ½ä¸ç›´æ¥ä½¿ç”¨pxï¼Œè€Œæ˜¯ä½¿ç”¨csså˜é‡è¿›è¡Œè®¾ç½®ã€‚\nä½¿ç”¨å¼€å…³åŠ¨æ€åˆ‡æ¢å¸¸è§„&#x2F;è€å¹´äººæ¨¡å¼å˜é‡ï¼Œä»¥åˆ‡æ¢å…¨å±€csså˜é‡å€¼ã€‚\nä»¥ä¸‹æ˜¯ä»£ç çš„å®ç°ï¼š\nç›®å½•ç»“æ„srcâ”œâ”€â”€ stylesâ”‚   â”œâ”€â”€ index.scssâ”‚   â”œâ”€â”€ variables.scssâ”‚   â””â”€â”€ variables-senior.scssâ””â”€â”€ App.vue\n\nå…³é”®ä»£ç /* variables.scss *//* æ— éœ€åŠ¨æ€æ”¹å˜çš„å¸¸é‡ */$main_color: #4077f4;// .../* å·®å¼‚åŒ–å˜é‡ */$variables: (  // å­—å·  font_size_extra_large: 20px,  font_size_large: 18px,  font_size_medium: 16px,  font_size_base: 14px,  font_size_small: 13px,  font_size_extra_small: 12px,  // checkbox  checkbox_after_left: 4px,  checkbox_after_top: 1px,  // è¡¨å•é¡¹  form_item_margin_bottom: 16px,  search_btn_width: 70px,  search_btn_detail_width: 60px);:export &#123;  /* å¸¸é‡éƒ¨åˆ† */  main_color: $main_color;  // ...  /* å˜é‡è‡ªåŠ¨å¯¼å‡º */  @each $name, $value in $variables &#123;    #&#123;$name&#125;: #&#123;$value&#125;;  &#125;&#125;\n\n/* variables-senior.scss */// å­—ä½“å¢é‡ï¼Œå¯ä»¥ç»Ÿä¸€æ§åˆ¶æ”¾å¤§å€ç‡$font_size_increment: 5px;/* å·®å¼‚åŒ–å˜é‡ */$variables: (  // å­—å·  font_size_extra_large: 20px + $font_size_increment,  font_size_large: 18px + $font_size_increment,  font_size_medium: 16px + $font_size_increment,  font_size_base: 14px + $font_size_increment,  font_size_small: 13px + $font_size_increment,  font_size_extra_small: 12px + $font_size_increment,  // checkbox  checkbox_after_left: 6px,  checkbox_after_top: 3px,  // è¡¨å•é¡¹  form_item_margin_bottom: 24px,  search_btn_width: 80px,  search_btn_detail_width: 80px);:export &#123;  /* å˜é‡è‡ªåŠ¨å¯¼å‡º */  @each $name, $value in $variables &#123;    #&#123;$name&#125;: #&#123;$value&#125;;  &#125;&#125;\n\n&lt;!-- æœ‰çš„å…ƒç´ ä¸èƒ½ä»…ç”¨å˜é‡æ§åˆ¶ï¼Œè¿™æ—¶å€™å°±éœ€è¦ä½¿ç”¨class .senior-modeï¼Œè°ƒæ•´å…ƒç´ åœ¨è€å¹´äººæ¨¡å¼ä¸‹çš„è¡¨ç° --&gt;&lt;template&gt;  &lt;div id=&quot;app&quot; :class=&quot;&#123; &#x27;senior-mode&#x27;: isSeniorMode &#125;&quot;&gt;    &lt;el-switch v-model=&quot;isSeniorMode&quot; @change=&quot;toggleMode&quot;&gt;      è€å¹´äººæ¨¡å¼    &lt;/el-switch&gt;    &lt;router-view /&gt;  &lt;/div&gt;&lt;/template&gt;&lt;script&gt;import normalVariables from &quot;@/styles/variables.scss&quot;import seniorVariables from &quot;@/styles/variables-senior.scss&quot;export default &#123;  name: &quot;app&quot;,  data() &#123;    return &#123;      isSeniorMode: false,    &#125;  &#125;,  mounted() &#123;    this.setMode()  &#125;,  methods: &#123;    toggleMode() &#123;      this.setMode(this.isSeniorMode)    &#125;,    setMode(isSenior = false) &#123;      const vars = isSenior ? seniorVariables : normalVariables      for (const [key, value] of Object.entries(vars)) &#123;        document.documentElement.style.setProperty(`--$&#123;key&#125;`, value)      &#125;    &#125;  &#125;&#125;&lt;/script&gt;\n\n/* style/index.scss */.el-button &#123;  font-size: var(--font_size_base);  &amp;--mini &#123;    font-size: var(--font_size_extra_small);  &#125;  &amp;--small &#123;    font-size: var(--font_size_base);  &#125;  &amp;--medium &#123;    font-size: var(--font_size_medium);  &#125;&#125;\n\nç»“è¯­è¿™ä¸ªæ–¹æ¡ˆçš„æ•ˆæœè¿˜æ˜¯æ¯”è¾ƒæ»¡æ„çš„ï¼Œè¡ç”Ÿå‡ºæ¥è¿˜å¯ä»¥å°è£…æˆç»„ä»¶ï¼Œå®ç°å¤§ä¸­å°ä¸‰ç§å­—å·åˆ‡æ¢çš„æ¨¡å¼\n","categories":["æŠ€æœ¯ç¬”è®°"],"tags":["è€å¹´äººæ¨¡å¼","åŠ¨æ€è°ƒæ•´å­—ä½“å¤§å°"]}]